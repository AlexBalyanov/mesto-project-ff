(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Lg:()=>S,Gs:()=>x});var t,n=function(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=o.querySelector(".card__title"),a=o.querySelector(".card__image"),i=o.querySelector(".card__image"),u=c.textContent=e.name,l=a.src=e.link,s=i.alt="Фотография места: ".concat(e.name);return o.querySelector(".card__delete-button").addEventListener("click",(function(){t(o)})),o.querySelector(".card__like-button").addEventListener("click",(function(e){n(e.target)})),a.addEventListener("click",(function(){r(u,l,s)})),o},r=function(e){e.remove()},o=function(e){e.classList.toggle("card__like-button_is-active")},c=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(n.inactiveButtonClass)):(t.disabled=!0,t.classList.add(n.inactiveButtonClass))},a=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",u)},i=function(e){var t,n,r,o;e.classList.contains("popup_is-opened")&&(e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",u),n=x,r=(t=e).querySelectorAll(n.inputSelector),o=t.querySelectorAll(n.errorTextSelector),r.forEach((function(e){e.classList.remove(n.inputErrorClass)})),o.forEach((function(e){e.classList.remove(n.errorClass),e.textContent=""})))},u=function(e){"Escape"===e.key&&S.forEach((function(e){i(e)}))},l=document.querySelector(".places__list"),s=document.querySelector(".profile__edit-button"),p=document.querySelector(".profile__add-button"),d=document.querySelectorAll(".popup__close"),m=document.querySelector(".popup_type_edit"),f=document.querySelector(".popup_type_new-card"),v=document.querySelector(".popup_type_image"),_=v.querySelector(".popup__image"),y=v.querySelector(".popup__caption"),S=document.querySelectorAll(".popup"),q=document.querySelector('form[name="edit-profile"]'),k=document.querySelector('input[name="name"]'),E=document.querySelector('input[name="description"]'),L=document.querySelector('form[name="new-place"]'),h=document.querySelector('input[name="place-name"]'),b=document.querySelector('input[name="link"]'),C=document.querySelector(".profile__title"),g=document.querySelector(".profile__description"),x={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",errorTextSelector:".popup__input_error_text",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};t=x,document.querySelectorAll(t.formSelector).forEach((function(e){!function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);c(n,r,t),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){t.validity.valid?function(e,t,n){var r=e.querySelector(".".concat(t.name,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""}(e,t,n):function(e,t,n){var r=e.querySelector(".".concat(t.name,"-error"));t.classList.add(n.inputErrorClass),r.classList.add(n.errorClass),t.validity.patternMismatch?r.textContent=t.dataset.errorMessage:r.textContent=t.validationMessage}(e,t,n)}(e,o,t),c(n,r,t)}))}))}(e,t)}));var j=function(e,t,n){_.src=t,_.alt=n,y.textContent=e,a(v)};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=n(e,r,o,j);l.append(t)})),s.addEventListener("click",(function(){k.value=C.textContent,E.value=g.textContent,a(m)})),p.addEventListener("click",(function(){L.reset(),a(f)})),d.forEach((function(e){e.addEventListener("click",(function(){i(e.closest(".popup"))}))})),S.forEach((function(e){e.addEventListener("click",(function(e){i(e.target)}))})),q.addEventListener("submit",(function(e){e.preventDefault();var t=k.value,n=E.value;C.textContent=t,g.textContent=n,S.forEach((function(e){i(e)}))})),L.addEventListener("submit",(function(e){e.preventDefault();var t=h.value,c=b.value,a={name:"",link:""};a.name=t,a.link=c;var u=n(a,r,o,j);l.prepend(u),S.forEach((function(e){i(e)})),L.reset()}))})();